!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("load-script")):"function"==typeof define&&define.amd?define("ckeditor4-angular",["exports","@angular/core","@angular/common","@angular/forms","load-script"],e):e((t=t||self)["ckeditor4-angular"]={},t.ng.core,t.ng.common,t.ng.forms,t.loadScript)}(this,(function(t,e,n,a,o){"use strict";
/**
     * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */
var i;o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;
/**
     * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */
var r=function(){function t(t,n){this.elementRef=t,this.ngZone=n,this.tagName="textarea",this.type="classic",this.ready=new e.EventEmitter,this.dataReady=new e.EventEmitter,this.change=new e.EventEmitter,this.dataChange=new e.EventEmitter,this.dragStart=new e.EventEmitter,this.dragEnd=new e.EventEmitter,this.drop=new e.EventEmitter,this.fileUploadResponse=new e.EventEmitter,this.fileUploadRequest=new e.EventEmitter,this.focus=new e.EventEmitter,this.paste=new e.EventEmitter,this.afterPaste=new e.EventEmitter,this.blur=new e.EventEmitter,this._readOnly=null,this._data=null,this._destroyed=!1,this.editorUrl="https://cdn.ckeditor.com/4.16.0/standard-all/ckeditor.js"}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){if(t!==this._data)return this.instance?(this.instance.setData(t),void(this._data=this.instance.getData())):void(this._data=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.instance?this.instance.readOnly:this._readOnly},set:function(t){this.instance?this.instance.setReadOnly(t):this._readOnly=t},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t,e=this;(t=this.editorUrl,t.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):"CKEDITOR"in window?Promise.resolve(CKEDITOR):(i||(i=new Promise((function(e,n){o(t,(function(t){t?n(t):e(CKEDITOR),i=void 0}))}))),i)).then((function(){e._destroyed||e.ngZone.runOutsideAngular(e.createEditor.bind(e))})).catch(window.console.error)},t.prototype.ngOnDestroy=function(){var t=this;this._destroyed=!0,this.ngZone.runOutsideAngular((function(){t.instance&&(t.instance.destroy(),t.instance=null)}))},t.prototype.writeValue=function(t){this.data=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.createEditor=function(){var t=this,e=document.createElement(this.tagName);this.elementRef.nativeElement.appendChild(e);var n="inline"===this.type?CKEDITOR.inline(e,this.config):CKEDITOR.replace(e,this.config);n.once("instanceReady",(function(e){t.instance=n,t.readOnly=null!==t._readOnly?t._readOnly:t.instance.readOnly,t.subscribe(t.instance);var a=n.undoManager;null!==t.data?(a&&a.lock(),n.setData(t.data,{callback:function(){t.data!==n.getData()&&(a?n.fire("change"):n.fire("dataReady")),a&&a.unlock(),t.ngZone.run((function(){t.ready.emit(e)}))}})):t.ngZone.run((function(){t.ready.emit(e)}))}))},t.prototype.subscribe=function(t){var e=this;t.on("focus",(function(t){e.ngZone.run((function(){e.focus.emit(t)}))})),t.on("paste",(function(t){e.ngZone.run((function(){e.paste.emit(t)}))})),t.on("afterPaste",(function(t){e.ngZone.run((function(){e.afterPaste.emit(t)}))})),t.on("dragend",(function(t){e.ngZone.run((function(){e.dragEnd.emit(t)}))})),t.on("dragstart",(function(t){e.ngZone.run((function(){e.dragStart.emit(t)}))})),t.on("drop",(function(t){e.ngZone.run((function(){e.drop.emit(t)}))})),t.on("fileUploadRequest",(function(t){e.ngZone.run((function(){e.fileUploadRequest.emit(t)}))})),t.on("fileUploadResponse",(function(t){e.ngZone.run((function(){e.fileUploadResponse.emit(t)}))})),t.on("blur",(function(t){e.ngZone.run((function(){e.onTouched&&e.onTouched(),e.blur.emit(t)}))})),t.on("dataReady",this.propagateChange,this),this.instance.undoManager?t.on("change",this.propagateChange,this):t.on("selectionCheck",this.propagateChange,this)},t.prototype.propagateChange=function(t){var e=this;this.ngZone.run((function(){var n=e.instance.getData();"change"===t.name?e.change.emit(t):"dataReady"===t.name&&e.dataReady.emit(t),n!==e.data&&(e._data=n,e.dataChange.emit(n),e.onChange&&e.onChange(n))}))},t}();r.decorators=[{type:e.Component,args:[{selector:"ckeditor",template:"<ng-template></ng-template>",providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return r})),multi:!0}]}]}],r.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone}]},r.propDecorators={config:[{type:e.Input}],tagName:[{type:e.Input}],type:[{type:e.Input}],data:[{type:e.Input}],readOnly:[{type:e.Input}],ready:[{type:e.Output}],dataReady:[{type:e.Output}],change:[{type:e.Output}],dataChange:[{type:e.Output}],dragStart:[{type:e.Output}],dragEnd:[{type:e.Output}],drop:[{type:e.Output}],fileUploadResponse:[{type:e.Output}],fileUploadRequest:[{type:e.Output}],focus:[{type:e.Output}],paste:[{type:e.Output}],afterPaste:[{type:e.Output}],blur:[{type:e.Output}],editorUrl:[{type:e.Input}]};
/**
     * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */
/**
     * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */
var u=function(){};u.decorators=[{type:e.NgModule,args:[{imports:[a.FormsModule,n.CommonModule],declarations:[r],exports:[r]}]}],t.CKEditorComponent=r,t.CKEditorModule=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ckeditor4-angular.umd.min.js.map