/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
import loadScript from 'load-script';
let promise;
export function getEditorNamespace(editorURL) {
    if (editorURL.length < 1) {
        return Promise.reject(new TypeError('CKEditor URL must be a non-empty string.'));
    }
    if ('CKEDITOR' in window) {
        return Promise.resolve(CKEDITOR);
    }
    else if (!promise) {
        promise = new Promise((scriptResolve, scriptReject) => {
            loadScript(editorURL, err => {
                if (err) {
                    scriptReject(err);
                }
                else {
                    scriptResolve(CKEDITOR);
                }
                promise = undefined;
            });
        });
    }
    return promise;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2tlZGl0b3IuaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9ja3NvdXJjZS9Xb3Jrc3BhY2UvQ0tFZGl0b3I0L2NrZWRpdG9yNC1hbmd1bGFyL3NyYy9ja2VkaXRvci8iLCJzb3VyY2VzIjpbImNrZWRpdG9yLmhlbHBlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBRUgsT0FBTyxVQUFVLE1BQU0sYUFBYSxDQUFDO0FBR3JDLElBQUksT0FBTyxDQUFDO0FBRVosTUFBTSxVQUFVLGtCQUFrQixDQUFFLFNBQWlCO0lBQ3BELElBQUssU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUc7UUFDM0IsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFFLElBQUksU0FBUyxDQUFFLDBDQUEwQyxDQUFFLENBQUUsQ0FBQztLQUNyRjtJQUVELElBQUssVUFBVSxJQUFJLE1BQU0sRUFBRztRQUMzQixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUUsUUFBUSxDQUFFLENBQUM7S0FDbkM7U0FBTSxJQUFLLENBQUMsT0FBTyxFQUFHO1FBQ3RCLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBRSxDQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUcsRUFBRTtZQUN4RCxVQUFVLENBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUM1QixJQUFLLEdBQUcsRUFBRztvQkFDVixZQUFZLENBQUUsR0FBRyxDQUFFLENBQUM7aUJBQ3BCO3FCQUFNO29CQUNOLGFBQWEsQ0FBRSxRQUFRLENBQUUsQ0FBQztpQkFDMUI7Z0JBRUQsT0FBTyxHQUFHLFNBQVMsQ0FBQztZQUNyQixDQUFDLENBQUUsQ0FBQztRQUNMLENBQUMsQ0FBRSxDQUFDO0tBQ0o7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMSwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kLlxuICovXG5cbmltcG9ydCBsb2FkU2NyaXB0IGZyb20gJ2xvYWQtc2NyaXB0JztcblxuZGVjbGFyZSBsZXQgQ0tFRElUT1I6IGFueTtcbmxldCBwcm9taXNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWRpdG9yTmFtZXNwYWNlKCBlZGl0b3JVUkw6IHN0cmluZyApOiBQcm9taXNlPHsgWyBrZXk6IHN0cmluZyBdOiBhbnk7IH0+IHtcblx0aWYgKCBlZGl0b3JVUkwubGVuZ3RoIDwgMSApIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoIG5ldyBUeXBlRXJyb3IoICdDS0VkaXRvciBVUkwgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyApICk7XG5cdH1cblxuXHRpZiAoICdDS0VESVRPUicgaW4gd2luZG93ICkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoIENLRURJVE9SICk7XG5cdH0gZWxzZSBpZiAoICFwcm9taXNlICkge1xuXHRcdHByb21pc2UgPSBuZXcgUHJvbWlzZSggKCBzY3JpcHRSZXNvbHZlLCBzY3JpcHRSZWplY3QgKSA9PiB7XG5cdFx0XHRsb2FkU2NyaXB0KCBlZGl0b3JVUkwsIGVyciA9PiB7XG5cdFx0XHRcdGlmICggZXJyICkge1xuXHRcdFx0XHRcdHNjcmlwdFJlamVjdCggZXJyICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2NyaXB0UmVzb2x2ZSggQ0tFRElUT1IgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHByb21pc2UgPSB1bmRlZmluZWQ7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHByb21pc2U7XG59XG4iXX0=